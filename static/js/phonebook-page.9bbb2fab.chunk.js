(this["webpackJsonpgoit-react-hw-09-phonebook"]=this["webpackJsonpgoit-react-hw-09-phonebook"]||[]).push([[4],{144:function(e,t,n){e.exports={phonebook:"ContactForm_phonebook__gyiey",phonebook__form:"ContactForm_phonebook__form__2bd1Z",phonebook__field:"ContactForm_phonebook__field__1aFQM",phonebook__name:"ContactForm_phonebook__name__sIBvV",phonebook__tel:"ContactForm_phonebook__tel__2FTmu",phonebook__btn:"ContactForm_phonebook__btn__110sn"}},145:function(e,t,n){e.exports={contacts:"ContactList_contacts__306le"}},146:function(e,t,n){e.exports={phonebook__filter:"Filter_phonebook__filter__28__c",phonebook__btn:"Filter_phonebook__btn__23LDQ",phonebook__icon:"Filter_phonebook__icon__3XEDZ"}},147:function(e,t,n){e.exports={contacts__list:"ContactItem_contacts__list__1VlnK",contacts__item:"ContactItem_contacts__item__1xmHs",deleteBtn:"ContactItem_deleteBtn__2absg",loader:"ContactItem_loader__1pz1E"}},156:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return A}));var o=n(0),c=n(7),a=n(140),r=n(136),i=n(20),s=n.n(i),l=n(144),b=n.n(l),_=n(157),j=n(24),u=n.n(j),h=n(12),d=function(){return function(e){e(Object(h.i)()),u.a.get("/contacts").then((function(t){var n=t.data;return e(Object(h.j)(n))})).catch((function(t){return e(Object(h.h)(t.message))}))}},f=function(e,t){return function(n){var o={name:e,number:t};n(Object(h.b)()),u.a.post("/contacts",o).then((function(e){var t=e.data;return n(Object(h.c)(t))})).catch((function(e){return n(Object(h.a)(e.message))}))}},p=function(e){return function(t){t(Object(h.f)()),u.a.delete("/contacts/".concat(e)).then((function(n){n.data;return t(Object(h.g)(e))})).catch((function(e){return t(Object(h.e)(e.message))}))}},m=n(34),O=function(e){return e.state.contacts},x=function(e){return e.state.filter},g={getContacts:O,getError:function(e){return e.state.error},getName:function(e){return e.state.name},getNumber:function(e){return e.state.number},getFilter:x,getLoading:function(e){return e.state.loading},getvisibleContacts:Object(m.a)([O,x],(function(e,t){return e.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())})).sort((function(e,t){return e.name!==t.name?e.name<t.name?-1:1:0}))}))},k=(n(50),n(10)),v=n(2),y=Object(_.a)(),C=Object(_.a)();function F(e){var t=e.title,n=Object(c.c)(),i=Object(o.useState)(""),l=Object(a.a)(i,2),_=l[0],j=l[1],u=Object(o.useState)(""),h=Object(a.a)(u,2),d=h[0],p=h[1],m=Object(c.d)(g.getContacts),O=function(e){var t=e.target,n=t.name,o=t.value;switch(n){case"name":j(o);break;case"number":p(o)}};return Object(v.jsxs)("div",{className:b.a.phonebook,children:[Object(v.jsx)("h1",{children:t}),Object(v.jsxs)("form",{onSubmit:function(e){e.preventDefault(),0===m.filter((function(e){return e.name===_})).length?n(f(_,d)):n(k.a.resetError("This contact already exist")),j(""),p("")},className:b.a.phonebook__form,children:[Object(v.jsxs)("div",{children:[Object(v.jsxs)("div",{className:b.a.phonebook__field,children:[Object(v.jsx)(r.a,{style:{color:s.a[500],fontSize:20},children:"perm_identity"}),Object(v.jsx)("input",{type:"text",name:"name",value:_,id:y,onChange:O}),Object(v.jsx)("label",{className:b.a.phonebook__name,children:"Name"})]}),Object(v.jsxs)("div",{className:b.a.phonebook__field,children:[Object(v.jsx)(r.a,{style:{color:s.a[500],fontSize:20},children:"phone"}),Object(v.jsx)("input",{type:"tel",name:"number",pattern:"[0-9]{3}-[0-9]{2}-[0-9]{2}",placeholder:"111-22-33",value:d,id:C,onChange:O}),Object(v.jsx)("label",{htmlFor:C,className:b.a.phonebook__tel,children:"Phone"})]})]}),Object(v.jsx)("button",{type:"submit",className:b.a.phonebook__btn,children:Object(v.jsx)(r.a,{style:{color:s.a[50],fontSize:40},children:"add_circle"})})]})]})}var N=n(5),S=n.n(N),w=n(145),L=n.n(w),z=function(e){var t=e.title,n=e.children;return Object(v.jsxs)("div",{className:L.a.contacts,children:[t&&Object(v.jsx)("h2",{children:t}),n]})};z.propType={title:S.a.string};var B=z,E=n(146),I=n.n(E),K=Object(_.a)();function T(){var e=Object(c.c)(),t=Object(c.d)(g.getFilter);return Object(v.jsxs)("label",{htmlFor:K,className:I.a.phonebook__filter,children:[Object(v.jsx)("button",{className:I.a.phonebook__btn,onClick:function(){e(Object(h.d)(""))},children:Object(v.jsx)(r.a,{style:{color:s.a[800],fontSize:20},children:"search"})}),Object(v.jsx)("input",{type:"text",name:"filter",value:t,id:K,onChange:function(t){var n=t.target.value;e(Object(h.d)(n))},placeholder:" Find contacts by name"})]})}var D=n(147),H=n.n(D),J=n(150),P=n(151),Q=n(158);function V(){var e=Object(c.c)(),t=Object(c.d)(g.getvisibleContacts);return Object(v.jsx)(J.a,{defaultActiveKey:"0",children:t.map((function(t){var n=t.id,o=t.name,c=t.number;return Object(v.jsxs)(P.a,{style:{backgroundColor:"rgb(39, 36, 36)",borderRadius:"10px"},children:[Object(v.jsxs)(J.a.Toggle,{as:P.a.Header,eventKey:n,style:{borderBottom:"1px solid grey",paddingLeft:"5px"},children:[Object(v.jsx)(Q.a,{style:{width:"25px",height:"25px",fontSize:"13px",color:"black",fontWeight:"bolder",fontStyle:"italic"},children:o.substr(0,2)}),Object(v.jsx)("p",{children:o})]}),Object(v.jsx)("button",{type:"button",className:H.a.deleteBtn,onClick:function(){return function(t){e(p(t))}(n)},children:Object(v.jsx)(r.a,{style:{color:s.a[50],fontSize:26},children:"delete_forever"})}),Object(v.jsx)(J.a.Collapse,{eventKey:n,children:Object(v.jsx)(P.a.Body,{style:{padding:"3px",marginLeft:"60px"},children:c})})]},n)}))})}var Z=n(61);function A(){var e=Object(c.c)(),t=Object(c.d)(g.getLoading);return Object(o.useEffect)((function(){e(d())}),[e]),Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(F,{title:"Phonebook"}),Object(v.jsxs)(B,{title:"Contacts",children:[Object(v.jsxs)("div",{className:"filter_container",children:[Object(v.jsx)(T,{}),t&&Object(v.jsx)(Z.a,{})]}),Object(v.jsx)(V,{})]})]})}}}]);
//# sourceMappingURL=phonebook-page.9bbb2fab.chunk.js.map