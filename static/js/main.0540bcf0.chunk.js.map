{"version":3,"sources":["redux/user/userAuth-actions.js","redux/user/userAuth-reducer.js","redux/user/userAuth-operations.js","redux/user/userAuth-selectors.js","components/Navigation/Navigation.js","components/userAuth/userAuth.js","components/userMenu/userMenu.js","components/AppBAr/AppBar.js","components/PrivateRoute.js","components/PublicRoute.js","components/errorMessage.js","App.js","redux/store.js","index.js","routes.js","components/Navigation/Navigation.module.css","components/userAuth/userAuth.module.css","components/userMenu/userMenu.module.css","redux/contacts/contact-reducer.js","components/Container/Container.js","components/Loader/Loader.js","components/AppBAr/AppBar.module.css","components/Container/Container.module.css","components/Loader/Loader.module.css","redux/contacts/contact-actions.js"],"names":["registerRequest","createAction","registerSuccess","registerError","loginRequest","loginSuccess","loginError","logoutRequest","logoutSuccess","logoutError","getCurrentUserRequest","getCurrentUserSuccess","getCurrentUserError","resetError","initialUserState","name","email","user","createReducer","userAuthActions","_","payload","token","setError","error","fetchContactsError","addContactsError","deleteContactsError","isLogin","combineReducers","axios","defaults","baseURL","headers","common","Authorization","register","credentials","dispatch","a","authActions","post","response","data","message","logOut","logIn","getCurrentUser","getState","persistedToken","userAuth","get","getIsAuthenticated","state","getUsername","getError","Navigation","className","styles","home_link","exact","to","routes","home","link","activeClassName","activeLink","Icon","style","color","grey","fontSize","prompt","contacts","this","props","isAuthenticated","Component","connect","userAuthSelectors","UserAuth","login","UserMenu","user_menu","username","type","btn_logout","onClick","onLogout","mapDispatchToProps","userAuthOperations","header","component","redirectTo","routeProps","render","restricted","ErrorMassage","useDispatch","HomeView","lazy","Phonebook","LoginView","RegisterView","NotFoundViews","App","useSelector","useEffect","Container","Boolean","fallback","Loader","path","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","authPersistConfig","key","storage","whitelist","store","configureStore","reducer","contactReducer","persistReducer","userAuthReducer","devTools","process","persistor","persistStore","ReactDOM","StrictMode","loading","document","getElementById","module","exports","fetchContactsSuccess","addContactsSuccess","deleteContactsSuccess","filter","id","fetchContactsRequest","addContactsRequest","deleteContactsRequest","resetValue","number","children","s","container","Load","secondaryColor","height","width","loader","addValue","value"],"mappings":"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","file":"static/js/main.0540bcf0.chunk.js","sourcesContent":["import { createAction } from '@reduxjs/toolkit';\r\n\r\nconst registerRequest = createAction('auth/registerRequest');\r\nconst registerSuccess = createAction('auth/registerSuccess');\r\nconst registerError = createAction('auth/registerError');\r\n\r\nconst loginRequest = createAction('auth/loginRequest');\r\nconst loginSuccess = createAction('auth/loginSuccess');\r\nconst loginError = createAction('auth/loginError');\r\n\r\nconst logoutRequest = createAction('auth/logoutRequest');\r\nconst logoutSuccess = createAction('auth/logoutSuccess');\r\nconst logoutError = createAction('auth/logoutError');\r\n\r\nconst getCurrentUserRequest = createAction('auth/getCurrentUserRequest');\r\nconst getCurrentUserSuccess = createAction('auth/getCurrentUserSuccess');\r\nconst getCurrentUserError = createAction('auth/getCurrentUserError');\r\n\r\nconst resetError = createAction('error/reset');\r\n\r\nexport default {\r\n  registerRequest,\r\n  registerSuccess,\r\n  registerError,\r\n  logoutRequest,\r\n  logoutSuccess,\r\n  logoutError,\r\n  loginRequest,\r\n  loginSuccess,\r\n  loginError,\r\n  getCurrentUserRequest,\r\n  getCurrentUserSuccess,\r\n  getCurrentUserError,\r\n  resetError,\r\n};\r\n","import { combineReducers } from 'redux';\r\nimport { createReducer } from '@reduxjs/toolkit';\r\nimport userAuthActions from './userAuth-actions';\r\nimport {\r\n  fetchContactsError,\r\n  addContactsError,\r\n  deleteContactsError,\r\n} from '../contacts/contact-actions';\r\n\r\nconst initialUserState = { name: null, email: null };\r\n\r\nconst user = createReducer(initialUserState, {\r\n  [userAuthActions.registerSuccess]: (_, { payload }) => payload.user,\r\n  [userAuthActions.loginSuccess]: (_, { payload }) => payload.user,\r\n  [userAuthActions.logoutSuccess]: () => initialUserState,\r\n  [userAuthActions.getCurrentUserSuccess]: (_, { payload }) => payload,\r\n});\r\n\r\nconst token = createReducer(null, {\r\n  [userAuthActions.registerSuccess]: (_, { payload }) => payload.token,\r\n  [userAuthActions.loginSuccess]: (_, { payload }) => payload.token,\r\n  [userAuthActions.logoutSuccess]: () => null,\r\n});\r\n\r\nconst setError = (_, { payload }) => payload;\r\n\r\nconst error = createReducer(null, {\r\n  [userAuthActions.registerError]: setError,\r\n  [userAuthActions.loginError]: setError,\r\n  [userAuthActions.logoutError]: setError,\r\n  [userAuthActions.getCurrentUserError]: setError,\r\n  [fetchContactsError]: setError,\r\n  [addContactsError]: setError,\r\n  [deleteContactsError]: setError,\r\n  [userAuthActions.resetError]: (_, { payload }) => payload,\r\n});\r\n\r\nconst isLogin = createReducer(null, {\r\n  [userAuthActions.registerSuccess]: () => true,\r\n  [userAuthActions.loginSuccess]: () => true,\r\n  [userAuthActions.getCurrentUserRequest]: () => true,\r\n  [userAuthActions.getCurrentUserSuccess]: () => true,\r\n  [userAuthActions.registerError]: () => false,\r\n  [userAuthActions.loginError]: () => false,\r\n  [userAuthActions.getCurrentUserError]: () => false,\r\n  [userAuthActions.logoutSuccess]: () => false,\r\n});\r\n\r\nexport default combineReducers({\r\n  user,\r\n  token,\r\n  error,\r\n  isLogin,\r\n});\r\n","import axios from 'axios';\r\nimport authActions from './userAuth-actions';\r\n\r\naxios.defaults.baseURL = 'https://goit-phonebook-api.herokuapp.com/';\r\n\r\nconst token = {\r\n  set(token) {\r\n    axios.defaults.headers.common.Authorization = `Bearer ${token}`;\r\n  },\r\n  unset() {\r\n    axios.defaults.headers.common.Authorization = '';\r\n  },\r\n};\r\n\r\nconst register = credentials => async dispatch => {\r\n  dispatch(authActions.registerRequest());\r\n\r\n  try {\r\n    const response = await axios.post('/users/signup', credentials);\r\n\r\n    token.set(response.data.token);\r\n    dispatch(authActions.registerSuccess(response.data));\r\n  } catch (error) {\r\n    dispatch(authActions.registerError(error.message));\r\n  }\r\n};\r\n\r\nconst logIn = credentials => async dispatch => {\r\n  dispatch(authActions.loginRequest());\r\n\r\n  try {\r\n    const response = await axios.post('/users/login', credentials);\r\n\r\n    token.set(response.data.token);\r\n    dispatch(authActions.loginSuccess(response.data));\r\n  } catch (error) {\r\n    dispatch(authActions.loginError(error.message));\r\n  }\r\n};\r\n\r\nconst logOut = () => async dispatch => {\r\n  dispatch(authActions.logoutRequest());\r\n\r\n  try {\r\n    await axios.post('/users/logout');\r\n\r\n    token.unset();\r\n    dispatch(authActions.logoutSuccess());\r\n  } catch (error) {\r\n    dispatch(authActions.logoutError(error.message));\r\n  }\r\n};\r\n\r\nconst getCurrentUser = () => async (dispatch, getState) => {\r\n  const {\r\n    userAuth: { token: persistedToken },\r\n  } = getState();\r\n\r\n  if (!persistedToken) {\r\n    return;\r\n  }\r\n  token.set(persistedToken);\r\n  dispatch(authActions.getCurrentUserRequest());\r\n  try {\r\n    const response = await axios.get('/users/current');\r\n    dispatch(authActions.getCurrentUserSuccess(response.data));\r\n  } catch (error) {\r\n    dispatch(authActions.getCurrentUserError(error.message));\r\n  }\r\n};\r\n\r\nexport default { register, logOut, logIn, getCurrentUser };\r\n","const getIsAuthenticated = state => state.userAuth.isLogin;\r\n\r\nconst getUsername = state => state.userAuth.user.name;\r\n\r\nconst getError = state => state.userAuth.error;\r\n\r\nexport default {\r\n  getIsAuthenticated,\r\n  getUsername,\r\n  getError,\r\n};\r\n","import React, { Component } from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport Icon from '@material-ui/core/Icon';\r\nimport grey from '@material-ui/core/colors/grey';\r\nimport styles from './Navigation.module.css';\r\nimport routes from '../../routes';\r\n\r\nimport { connect } from 'react-redux';\r\nimport { userAuthSelectors } from '../../redux/user';\r\n\r\nclass Navigation extends Component {\r\n  render() {\r\n    return (\r\n      <nav>\r\n        <div className={styles.home_link}>\r\n          <NavLink\r\n            exact\r\n            to={routes.home}\r\n            className={styles.link}\r\n            activeClassName={styles.activeLink}\r\n          >\r\n            <Icon style={{ color: grey[50], fontSize: 25 }}>home</Icon>\r\n            <span className={styles.prompt}>Home</span>\r\n          </NavLink>\r\n\r\n          <NavLink\r\n            exact\r\n            to={routes.contacts}\r\n            className={styles.link}\r\n            activeClassName={styles.activeLink}\r\n          >\r\n            <Icon style={{ color: grey[50], fontSize: 25 }}>contacts</Icon>\r\n            <span className={styles.prompt}>\r\n              {this.props.isAuthenticated ? 'Contacts' : 'Blocked'}\r\n            </span>\r\n          </NavLink>\r\n        </div>\r\n      </nav>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  isAuthenticated: userAuthSelectors.getIsAuthenticated(state),\r\n});\r\nexport default connect(mapStateToProps)(Navigation);\r\n","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport Icon from '@material-ui/core/Icon';\r\nimport grey from '@material-ui/core/colors/grey';\r\nimport styles from './userAuth.module.css';\r\nimport routes from '../../routes';\r\n\r\nconst UserAuth = () => (\r\n  <div>\r\n    <NavLink\r\n      to={routes.register}\r\n      className={styles.link}\r\n      activeClassName={styles.activeLink}\r\n    >\r\n      <Icon style={{ color: grey[50], fontSize: 25 }}>person_add</Icon>\r\n      <span className={styles.prompt}>Register</span>\r\n    </NavLink>\r\n    <NavLink\r\n      to={routes.login}\r\n      className={styles.link}\r\n      activeClassName={styles.activeLink}\r\n    >\r\n      <Icon style={{ color: grey[50], fontSize: 25 }}>exit_to_app</Icon>\r\n      <span className={styles.prompt}>Login</span>\r\n    </NavLink>\r\n  </div>\r\n);\r\n\r\nexport default UserAuth;\r\n","import React, { Component } from 'react';\r\nimport Icon from '@material-ui/core/Icon';\r\nimport grey from '@material-ui/core/colors/grey';\r\nimport styles from './userMenu.module.css';\r\nimport { connect } from 'react-redux';\r\nimport { userAuthOperations, userAuthSelectors } from '../../redux/user';\r\n\r\nclass UserMenu extends Component {\r\n  render() {\r\n    return (\r\n      <div className={styles.user_menu}>\r\n        <span className={styles.username}>Welcome, {this.props.name}</span>\r\n        <button\r\n          type=\"button\"\r\n          className={styles.btn_logout}\r\n          onClick={this.props.onLogout}\r\n        >\r\n          <Icon style={{ color: grey[50], fontSize: 25 }}>logout</Icon>\r\n          <span className={styles.prompt}>Logout</span>\r\n        </button>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nconst mapStateToProps = state => ({\r\n  name: userAuthSelectors.getUsername(state),\r\n});\r\nconst mapDispatchToProps = {\r\n  onLogout: userAuthOperations.logOut,\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(UserMenu);\r\n","import Navigation from '../Navigation/Navigation';\r\nimport UserAuth from '../userAuth/userAuth';\r\nimport UserMenu from '../userMenu/userMenu';\r\nimport styles from './AppBar.module.css';\r\nimport { connect } from 'react-redux';\r\nimport { userAuthSelectors } from '../../redux/user';\r\n\r\nconst AppBar = ({ isAuthenticated }) => {\r\n  return (\r\n    <header className={styles.header}>\r\n      <Navigation />\r\n      {isAuthenticated ? <UserMenu /> : <UserAuth />}\r\n    </header>\r\n  );\r\n};\r\nconst mapStateToProps = state => ({\r\n  isAuthenticated: userAuthSelectors.getIsAuthenticated(state),\r\n});\r\nexport default connect(mapStateToProps)(AppBar);\r\n","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { userAuthSelectors } from '../redux/user';\r\n\r\nconst PrivateRoute = ({\r\n  component: Component,\r\n  isAuthenticated,\r\n  redirectTo,\r\n  ...routeProps\r\n}) => {\r\n  return (\r\n    <Route\r\n      {...routeProps}\r\n      render={props =>\r\n        isAuthenticated ? (\r\n          <Component {...props} />\r\n        ) : (\r\n          <Redirect to={redirectTo} />\r\n        )\r\n      }\r\n    />\r\n  );\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  isAuthenticated: userAuthSelectors.getIsAuthenticated(state),\r\n});\r\n\r\nexport default connect(mapStateToProps)(PrivateRoute);\r\n","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { userAuthSelectors } from '../redux/user';\r\n\r\nconst PublicRoute = ({\r\n  component: Component,\r\n  isAuthenticated,\r\n  redirectTo,\r\n  ...routeProps\r\n}) => (\r\n  <Route\r\n    {...routeProps}\r\n    render={props =>\r\n      isAuthenticated && routeProps.restricted ? (\r\n        <Redirect to={redirectTo} />\r\n      ) : (\r\n        <Component {...props} />\r\n      )\r\n    }\r\n  />\r\n);\r\n\r\nconst mapStateToProps = state => ({\r\n  isAuthenticated: userAuthSelectors.getIsAuthenticated(state),\r\n});\r\n\r\nexport default connect(mapStateToProps)(PublicRoute);\r\n","import React, { Component } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport Icon from '@material-ui/core/Icon';\r\nimport grey from '@material-ui/core/colors/grey';\r\nimport { userAuthActions } from '../redux/user';\r\n\r\nexport default function ErrorMassage({ error }) {\r\n  const dispatch = useDispatch();\r\n  const onClose = () => {\r\n    dispatch(userAuthActions.resetError(''));\r\n  };\r\n\r\n  return (\r\n    <div className=\"msg_error msg_error_active\">\r\n      <h3>Attention!!!</h3>\r\n      <p>{error}</p>\r\n      <button className=\"close_btn\" onClick={onClose}>\r\n        <Icon style={{ color: grey[500], fontSize: 20 }}>close</Icon>\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n\r\n// class ErrorMassage extends Component {\r\n//   onclic = () => {\r\n//     this.props.resetError('');\r\n//   };\r\n//   render() {\r\n//     const { error } = this.props;\r\n//     return (\r\n//       <div className=\"msg_error msg_error_active\">\r\n//         <h3>Attention!!!</h3>\r\n//         <p>{error}</p>\r\n//         <button className=\"close_btn\" onClick={this.onclic}>\r\n//           <Icon style={{ color: grey[500], fontSize: 20 }}>close</Icon>\r\n//         </button>\r\n//       </div>\r\n//     );\r\n//   }\r\n// }\r\n// const mapDispatchToProps = dispatch => ({\r\n//   resetError: value => dispatch(userAuthActions.resetError(value)),\r\n// });\r\n// export default connect(null, mapDispatchToProps)(ErrorMassage);\r\n","import './App.css';\r\nimport React, { Component, lazy, Suspense, useEffect } from 'react';\r\nimport { Switch } from 'react-router-dom';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport AppBar from './components/AppBAr/AppBar';\r\nimport Container from './components/Container/Container';\r\nimport Loader from './components/Loader';\r\nimport routes from './routes';\r\nimport { userAuthOperations, userAuthSelectors } from './redux/user';\r\nimport PrivateRoute from './components/PrivateRoute';\r\nimport PublicRoute from './components/PublicRoute';\r\n\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport ErrorMessage from './components/errorMessage';\r\n\r\nconst HomeView = lazy(() =>\r\n  import('./views/HomeView' /* webpackChunkName: \"home-page\" */),\r\n);\r\nconst Phonebook = lazy(() =>\r\n  import('./views/Phonebook' /* webpackChunkName: \"phonebook-page\" */),\r\n);\r\nconst LoginView = lazy(() =>\r\n  import('./views/LoginView' /* webpackChunkName: \"login-page\" */),\r\n);\r\nconst RegisterView = lazy(() =>\r\n  import('./views/RegisterView' /* webpackChunkName: \"register-page\" */),\r\n);\r\nconst NotFoundViews = lazy(() =>\r\n  import('./views/NotFoundView' /* webpackChunkName: \"notFoud-page\" */),\r\n);\r\n\r\nexport default function App() {\r\n  const { home, contacts, register, login } = routes;\r\n  const dispatch = useDispatch();\r\n  const error = useSelector(userAuthSelectors.getError);\r\n\r\n  useEffect(() => {\r\n    dispatch(userAuthOperations.getCurrentUser());\r\n  }, [dispatch]);\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <Container>\r\n        <AppBar />\r\n        {Boolean(error) && <ErrorMessage error={error} />}\r\n        <Suspense fallback={<Loader />}>\r\n          <Switch>\r\n            <PublicRoute exact path={home} component={HomeView} />\r\n            <PrivateRoute\r\n              path={contacts}\r\n              redirectTo=\"/login\"\r\n              component={Phonebook}\r\n            />\r\n            <PublicRoute\r\n              path={register}\r\n              restricted\r\n              redirectTo=\"/\"\r\n              component={RegisterView}\r\n            />\r\n            <PublicRoute\r\n              path={login}\r\n              restricted\r\n              redirectTo=\"/contacts\"\r\n              component={LoginView}\r\n            />\r\n            <PrivateRoute\r\n              path=\"/goit-react-hw-09-phonebook\"\r\n              redirectTo=\"/\"\r\n              component={HomeView}\r\n            />\r\n            <PublicRoute component={NotFoundViews} />\r\n          </Switch>\r\n        </Suspense>\r\n      </Container>\r\n    </div>\r\n  );\r\n}\r\n\r\n// const mapStateToProps = state => ({\r\n//   error: userAuthSelectors.getError(state),\r\n// });\r\n// const mapDispatchToProps = {\r\n//   onGetCurretnUser: userAuthOperations.getCurrentUser,\r\n// };\r\n\r\n// export default connect(mapStateToProps, mapDispatchToProps)(App);\r\n","import { configureStore, getDefaultMiddleware } from '@reduxjs/toolkit';\r\nimport {\r\n  persistStore,\r\n  persistReducer,\r\n  FLUSH,\r\n  REHYDRATE,\r\n  PAUSE,\r\n  PERSIST,\r\n  PURGE,\r\n  REGISTER,\r\n} from 'redux-persist';\r\nimport storage from 'redux-persist/lib/storage';\r\nimport logger from 'redux-logger';\r\nimport contactReducer from './contacts/contact-reducer';\r\nimport { userAuthReducer } from './user';\r\n\r\nconst middleware = [\r\n  ...getDefaultMiddleware({\r\n    serializableCheck: {\r\n      ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\r\n    },\r\n  }),\r\n];\r\nconst authPersistConfig = {\r\n  key: 'userAuth',\r\n  storage,\r\n  whitelist: ['token'],\r\n};\r\nconst store = configureStore({\r\n  reducer: {\r\n    state: contactReducer,\r\n    userAuth: persistReducer(authPersistConfig, userAuthReducer),\r\n  },\r\n  middleware,\r\n  devTools: process.env.NODE_ENV === 'development',\r\n});\r\n\r\nconst persistor = persistStore(store);\r\n\r\nexport default { store, persistor };\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport { PersistGate } from 'redux-persist/integration/react';\r\nimport App from './App';\r\nimport 'modern-normalize/modern-normalize.css';\r\nimport { Provider } from 'react-redux';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport store from './redux/store';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store.store}>\r\n      <PersistGate loading={null} persistor={store.persistor}>\r\n        <BrowserRouter>\r\n          <App />\r\n        </BrowserRouter>\r\n      </PersistGate>\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root'),\r\n);\r\n","export default {\r\n  home: '/',\r\n  contacts: '/contacts',\r\n  register: '/register',\r\n  login: '/login',\r\n};\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"home_link\":\"Navigation_home_link__26ebP\",\"link\":\"Navigation_link__NGPKr\",\"prompt\":\"Navigation_prompt__1w2kn\",\"activeLink\":\"Navigation_activeLink__g0Bnr Navigation_link__NGPKr\",\"user_menu\":\"Navigation_user_menu__5n8ny\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"link\":\"userAuth_link__2xp54\",\"prompt\":\"userAuth_prompt__39hD6\",\"activeLink\":\"userAuth_activeLink__flc98 userAuth_link__2xp54\",\"user_menu\":\"userAuth_user_menu__2O24D\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"user_menu\":\"userMenu_user_menu__dYp9V\",\"username\":\"userMenu_username__bEh4v\",\"prompt\":\"userMenu_prompt__24PKn\",\"btn_logout\":\"userMenu_btn_logout__IAXYX\"};","import { combineReducers } from 'redux';\r\nimport { createReducer } from '@reduxjs/toolkit';\r\nimport {\r\n  fetchContactsRequest,\r\n  fetchContactsSuccess,\r\n  fetchContactsError,\r\n  addContactsRequest,\r\n  addContactsSuccess,\r\n  addContactsError,\r\n  deleteContactsRequest,\r\n  deleteContactsSuccess,\r\n  deleteContactsError,\r\n  addValue,\r\n  resetValue,\r\n} from './contact-actions';\r\n\r\nconst initialState = [];\r\nconst contacts = createReducer(initialState, {\r\n  [fetchContactsSuccess]: (_, { payload }) => payload,\r\n  [addContactsSuccess]: (state, { payload }) => [...state, payload],\r\n  [deleteContactsSuccess]: (state, { payload }) =>\r\n    state.filter(({ id }) => id !== payload),\r\n});\r\n\r\nconst loading = createReducer(false, {\r\n  [fetchContactsRequest]: () => true,\r\n  [fetchContactsSuccess]: () => false,\r\n  [fetchContactsError]: () => false,\r\n  [addContactsRequest]: () => true,\r\n  [addContactsSuccess]: () => false,\r\n  [addContactsError]: () => false,\r\n  [deleteContactsRequest]: () => true,\r\n  [deleteContactsSuccess]: () => false,\r\n  [deleteContactsError]: () => false,\r\n});\r\n// const setError = (_, { payload }) => payload.message;\r\n// const error = createReducer(null, {\r\n//   [fetchContactsError]: setError,\r\n//   [addContactsError]: setError,\r\n//   [deleteContactsError]: setError,\r\n// });\r\nconst name = createReducer('', {\r\n  'values/addname': (_, { payload }) => payload,\r\n  [resetValue]: (_, { payload }) => payload,\r\n});\r\n\r\nconst number = createReducer('', {\r\n  'values/addnumber': (_, { payload }) => payload,\r\n  [resetValue]: (_, { payload }) => payload,\r\n});\r\n\r\nconst filter = createReducer('', {\r\n  'values/addfilter': (_, { payload }) => payload,\r\n  [resetValue]: (_, { payload }) => payload,\r\n});\r\n\r\nexport default combineReducers({\r\n  contacts,\r\n  loading,\r\n\r\n  name,\r\n  number,\r\n  filter,\r\n});\r\n","import s from './Container.module.css';\r\n\r\nexport default function Container({ children }) {\r\n  return <div className={s.container}>{children}</div>;\r\n}\r\n","import React, { Component } from 'react';\r\nimport Loader from 'react-loader-spinner';\r\nimport s from './Loader.module.css';\r\n\r\nexport default class Load extends Component {\r\n  render() {\r\n    return (\r\n      <Loader\r\n        type=\"BallTriangle\"\r\n        color=\"white\"\r\n        secondaryColor=\"grey\"\r\n        height={20}\r\n        width={20}\r\n        className={s.loader}\r\n      />\r\n    );\r\n  }\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"AppBar_header__3GceQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Container_container__MmhGE\",\"loader\":\"Container_loader__1rQKh\",\"Container__top\":\"Container_Container__top__3ssMo\",\"Container__bottom\":\"Container_Container__bottom__3FQoP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__2-VzN\"};","import { createAction } from '@reduxjs/toolkit';\r\n\r\nexport const fetchContactsRequest = createAction(\r\n  'contacts/fetchContactsRequest',\r\n);\r\nexport const fetchContactsSuccess = createAction(\r\n  'contacts/fetchContactsSuccess',\r\n);\r\nexport const fetchContactsError = createAction('contacts/fetchContactsError');\r\n\r\nexport const addContactsRequest = createAction('contacts/addContactsRequest');\r\nexport const addContactsSuccess = createAction('contacts/addContactsSuccess');\r\nexport const addContactsError = createAction('contacts/addContactsError');\r\n\r\nexport const deleteContactsRequest = createAction(\r\n  'contacts/deleteContactsRequest',\r\n);\r\nexport const deleteContactsSuccess = createAction(\r\n  'contacts/deleteContactsSuccess',\r\n);\r\nexport const deleteContactsError = createAction('contacts/deleteContactsError');\r\n\r\nexport const addValue = (name, value) => ({\r\n  type: `values/add${name}`,\r\n  payload: value,\r\n});\r\nexport const resetValue = createAction('values/reset');\r\n"],"sourceRoot":""}